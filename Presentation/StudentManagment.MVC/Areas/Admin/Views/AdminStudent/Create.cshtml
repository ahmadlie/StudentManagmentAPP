@using StudentManagment.Application.Features.Queries.Teacher.GetAllTeacher
@model IList<GetAllTeacherQueryResponse>

<div class="container" style="margin-left:30px;margin-top:30px">
    <div class="d-flex justify-content-between">
        <form method="post" asp-action="Create" class="ml-2">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <input name="FirstName" type="text" class="form-control" placeholder="First Name" id="firstnameInput" required>
                </div>
                <div class="col-md-4 mb-3">
                    <input name="LastName" type="text" class="form-control" placeholder="Last Name" id="lastnameInput" required>
                </div>
                <div class="col-md-4 mb-3">
                    <input name="Class" type="text" class="form-control" placeholder="Class" id="emailInput" required>
                </div>
                @if (Model.Count != 0)
                {
                    <div class="col-md-4 mb-3">
                        <label for="teacherSelect" class="form-label" style="margin-left:13px">Select Teacher :</label>
                        <select style="margin-top:-30px;margin-left:120px;background-color:lightskyblue" class="form-select" id="teacherSelect" aria-label="Default select example" multiple>                           
                            @foreach (var teacher in Model)
                            {
                                <option value="@teacher.Id" >@teacher.FirstName @teacher.LastName</option>
                            }
                        </select>
                        <input type="hidden" name="SelectedTeacherIds" id="selectedTeacherIds" />
                    </div>
                }
            </div>
            <button type="submit" class="btn btn-success btn-sm" style="margin-top:5px">Create</button>
        </form>
    </div>
</div>

<script>
    document.getElementById('teacherSelect').addEventListener('change', function () {
        var selectedOptions = Array.from(this.selectedOptions).map(option => option.value);
        document.getElementById('selectedTeacherIds').value = JSON.stringify(selectedOptions);
    });
</script>


